{"version":3,"file":"create-pinia-store-old.js","sourceRoot":"","sources":["create-pinia-store-old.ts"],"names":[],"mappings":"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","sourcesContent":["import { objectAssign } from '../services/utils'\r\nimport { getOidcCallbackPath, createUserManager, addUserManagerEventListener, removeUserManagerEventListener, tokenIsExpired, tokenExp } from '../services/oidc-helpers'\r\nimport { dispatchCustomBrowserEvent } from '../services/browser-event'\r\nimport { openUrlWithIframe } from '../services/navigation'\r\nimport type { StoreOidcListeners, OidcStoreSettings, StoreOidcClientSettings, OidcSigninSilentOptions, PayloadType } from '../types/vue-store'\r\nimport type { PiniaOidcStoreState, PiniaOidcStoreDefinition, PiniaOidcStore, PiniaOidcStoreGetters, PiniaOidcStoreAction } from '../types/pinia-store'\r\nimport type { RouteLocationNormalized } from 'vue-router'\r\nimport { defineStore } from 'pinia'\r\nimport { OidcClient, User } from 'oidc-client-ts'\r\n\r\nexport default (oidcClientSettings: StoreOidcClientSettings, storeSettings: OidcStoreSettings = {}, oidcEventListeners: StoreOidcListeners = {}): PiniaOidcStoreDefinition => {\r\n  const oidcUserManager = createUserManager(oidcClientSettings)\r\n  if (!storeSettings.isAuthenticatedBy) storeSettings.isAuthenticatedBy = 'id_token'\r\n\r\n  const oidcCallbackPath = getOidcCallbackPath(oidcClientSettings.redirect_uri, storeSettings.routeBase || '/')\r\n  const oidcPopupCallbackPath = getOidcCallbackPath(oidcClientSettings.popupRedirectUri || '', storeSettings.routeBase || '/')\r\n  const oidcSilentCallbackPath = getOidcCallbackPath(oidcClientSettings.silentRedirectUri || '', storeSettings.routeBase || '/')\r\n\r\n  // Add event listeners passed into factory function\r\n  Object.keys(oidcEventListeners).forEach(eventName => {\r\n    addUserManagerEventListener(oidcUserManager, eventName, oidcEventListeners[eventName])\r\n  })\r\n\r\n  if (storeSettings.dispatchEventsOnWindow) {\r\n    // Dispatch oidc-client events on window (if in browser)\r\n    const userManagerEvents = [\r\n      'userLoaded',\r\n      'userUnloaded',\r\n      'accessTokenExpiring',\r\n      'accessTokenExpired',\r\n      'silentRenewError',\r\n      'userSignedOut'\r\n    ]\r\n    userManagerEvents.forEach(eventName => {\r\n      addUserManagerEventListener(oidcUserManager, eventName, (detail: StoreOidcListeners) => {\r\n        dispatchCustomBrowserEvent(eventName, detail || {})\r\n      })\r\n    })\r\n  }\r\n\r\n  const routeIsPublic = (route: RouteLocationNormalized) => {\r\n    if (route.meta && route.meta.isPublic) {\r\n      return true\r\n    }\r\n    if (route.meta && Array.isArray(route.meta) && route.meta.reduce((isPublic, meta) => meta.isPublic || isPublic, false)) {\r\n      return true\r\n    }\r\n    if (storeSettings.publicRoutePaths && storeSettings.publicRoutePaths.map(path => path.replace(/\\/$/, '')).indexOf(route.path.replace(/\\/$/, '')) > -1) {\r\n      return true\r\n    }\r\n    if (storeSettings.isPublicRoute && typeof storeSettings.isPublicRoute === 'function') {\r\n      return storeSettings.isPublicRoute(route)\r\n    }\r\n    return false\r\n  }\r\n\r\n  const routeIsOidcCallback = (route: RouteLocationNormalized) => {\r\n    if (route.meta && route.meta.isOidcCallback) {\r\n      return true\r\n    }\r\n    if (route.meta && Array.isArray(route.meta) && route.meta.reduce((isOidcCallback, meta) => meta.isOidcCallback || isOidcCallback, false)) {\r\n      return true\r\n    }\r\n    if (route.path && route.path.replace(/\\/$/, '') === oidcCallbackPath) {\r\n      return true\r\n    }\r\n    if (route.path && route.path.replace(/\\/$/, '') === oidcPopupCallbackPath) {\r\n      return true\r\n    }\r\n    if (route.path && route.path.replace(/\\/$/, '') === oidcSilentCallbackPath) {\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n\r\n  const PiniaOidcStoreState: PiniaOidcStoreState = {\r\n    access_token: null,\r\n    id_token: null,\r\n    refresh_token: null,\r\n    user: null,\r\n    scopes: null,\r\n    is_checked: false,\r\n    events_are_bound: false,\r\n    error: null\r\n  }\r\n  const getPayloadItem = (payload: any, option: string): any => {\r\n    if (payload) {\r\n      if (typeof payload === 'string') {\r\n        return payload\r\n      }\r\n      else {\r\n        if (option in payload) {\r\n          if (payload.option) return option\r\n        }\r\n      }\r\n    }\r\n    return null\r\n  }\r\n\r\n  const PiniaOidcStoreGetters: PiniaOidcStoreGetters = {\r\n    oidcIsAuthenticated: (state: PiniaOidcStoreState) => {\r\n      if (storeSettings.isAuthenticatedBy) {\r\n        if (state[storeSettings.isAuthenticatedBy]) {\r\n          return true\r\n        }\r\n      }\r\n      return false\r\n    },\r\n    oidcUser: (state: PiniaOidcStoreState) => {\r\n      return state.user\r\n    },\r\n    oidcAccessToken: (state: PiniaOidcStoreState) => {\r\n      return tokenIsExpired(state.access_token) ? null : state.access_token\r\n    },\r\n    oidcAccessTokenExp: (state: PiniaOidcStoreState) => {\r\n      return tokenExp(state.access_token)\r\n    },\r\n    oidcScopes: (state: PiniaOidcStoreState) => {\r\n      return state.scopes\r\n    },\r\n    oidcIdToken: (state: PiniaOidcStoreState) => {\r\n      return tokenIsExpired(state.id_token) ? null : state.id_token\r\n    },\r\n    oidcIdTokenExp: (state: PiniaOidcStoreState) => {\r\n      return tokenExp(state.id_token)\r\n    },\r\n    oidcRefreshToken: (state: PiniaOidcStoreState) => {\r\n      return tokenIsExpired(state.refresh_token) ? null : state.refresh_token\r\n    },\r\n    oidcRefreshTokenExp: (state: PiniaOidcStoreState) => {\r\n      return tokenExp(state.refresh_token)\r\n    },\r\n    oidcAuthenticationIsChecked: (state: PiniaOidcStoreState) => {\r\n      return state.is_checked\r\n    },\r\n    oidcError: (state: PiniaOidcStoreState) => {\r\n      return state.error\r\n    },\r\n    oidcIsRoutePublic: (state: PiniaOidcStoreState) => {\r\n      return (route: RouteLocationNormalized) => {\r\n        return routeIsPublic(route)\r\n      }\r\n    }\r\n  }\r\n\r\n  const PiniaOidcStoreAction: PiniaOidcStoreAction = {\r\n    oidcCheckAccess(this: OidcStoreMembers, route: RouteLocationNormalized) {\r\n      return new Promise(resolve => {\r\n        if (routeIsOidcCallback(route)) {\r\n          resolve(true)\r\n          return\r\n        }\r\n        let hasAccess = true\r\n        const isAuthenticatedInStore = this.oidcIsAuthenticated\r\n        oidcUserManager.getUser().then(user => {\r\n          if (!user || user.expired) {\r\n            const authenticateSilently = oidcClientSettings.silentRedirectUri && oidcClientSettings.automaticSilentSignin\r\n            if (routeIsPublic(route)) {\r\n              if (isAuthenticatedInStore) {\r\n                this.unsetOidcAuth()\r\n              }\r\n              if (authenticateSilently) {\r\n                this.authenticateOidc()\r\n                this.authenticateOidcSilent({ ignoreErrors: true } as OidcSigninSilentOptions)\r\n                  .catch(() => { })\r\n              }\r\n            } else {\r\n              const authenticate = () => {\r\n                if (isAuthenticatedInStore) {\r\n                  this.unsetOidcAuth()\r\n                }\r\n                this.authenticateOidc(route.fullPath)\r\n              }\r\n            }\r\n            // If silent signin is set up, try to authenticate silently before denying access\r\n            if (authenticateSilently) {\r\n              this.authenticateOidcSilent({ ignoreErrors: true } as OidcSigninSilentOptions)\r\n                .then(() => {\r\n                  oidcUserManager.getUser().then(user => {\r\n                    if (!user || user.expired) {\r\n                      this.authenticate()\r\n                    }\r\n                    resolve(!!user)\r\n                  }).catch(() => {\r\n                    this.authenticate()\r\n                    resolve(false)\r\n                  })\r\n                })\r\n                .catch(() => {\r\n                  this.authenticate()\r\n                  resolve(false)\r\n                })\r\n              return\r\n            }\r\n            // If no silent signin is set up, perform explicit authentication and deny access\r\n            this.authenticate()\r\n            hasAccess = false\r\n          }\r\n          else {\r\n            this.oidcWasAuthenticated(user)\r\n            if (!isAuthenticatedInStore) {\r\n              if (oidcEventListeners && typeof oidcEventListeners.userLoaded === 'function') {\r\n                oidcEventListeners.userLoaded(user)\r\n              }\r\n              if (storeSettings.dispatchEventsOnWindow) {\r\n                dispatchCustomBrowserEvent('userLoaded', user)\r\n              }\r\n            }\r\n          }\r\n          resolve(hasAccess)\r\n        })\r\n      })\r\n    },\r\n    authenticateOidcSilent(this: OidcStoreMembers, payload?: PayloadType) {\r\n      // Take options for signinSilent from 1) payload or 2) storeSettings if defined there\r\n      const options = getPayloadItem(payload, 'option') || storeSettings.defaultSigninSilentOptions || {}\r\n      return new Promise<User | null>((resolve, reject) => {\r\n        oidcUserManager.signinSilent(options)\r\n          .then(user => {\r\n            this.oidcWasAuthenticated(user)\r\n            resolve(user)\r\n          })\r\n          .catch(err => {\r\n            this.setOidcAuthIsChecked()\r\n            if (getPayloadItem(payload, 'ignoreErrors')) {\r\n              resolve(null)\r\n            } else {\r\n              this.setOidcError(errorPayload('authenticateOidcSilent', err))\r\n              reject(err)\r\n            }\r\n          })\r\n      })\r\n    },\r\n    authenticateOidc(this: OidcStoreMembers, payload?) {\r\n      const redirectPath = getPayloadItem(payload, 'redirectPath')\r\n      if (redirectPath) {\r\n        sessionStorage.setItem('vue_oidc_active_route', redirectPath)\r\n      } else {\r\n        sessionStorage.removeItem('vue_oidc_active_route')\r\n      }\r\n\r\n      // Take options for signinRedirect from 1) payload or 2) storeSettings if defined there\r\n      const options = getPayloadItem(payload, 'options') || storeSettings.defaultSigninRedirectOptions || {}\r\n      return oidcUserManager.signinRedirect(options)\r\n        .catch(err => this.setOidcError(errorPayload('authenticateOidc', err)))\r\n    },\r\n    oidcSignInCallback(this: OidcStoreMembers, url) {\r\n      return new Promise((resolve, reject) => {\r\n        oidcUserManager.signinRedirectCallback(url)\r\n          .then(user => {\r\n            this.oidcWasAuthenticated(user)\r\n            resolve(sessionStorage.getItem('vue_oidc_active_route') || '/')\r\n          })\r\n          .catch(err => {\r\n            this.setOidcError(errorPayload('oidcSignInCallback', err))\r\n            this.setOidcAuthIsChecked\r\n            reject(err)\r\n          })\r\n      })\r\n    },\r\n    authenticateOidcPopup(this: OidcStoreMembers, payload = {}) {\r\n      // Take options for signinPopup from 1) payload or 2) storeSettings if defined there\r\n      const options = getPayloadItem(payload, 'options') || storeSettings.defaultSigninPopupOptions || {}\r\n      return oidcUserManager.signinPopup(options)\r\n        .then(user => {\r\n          this.oidcWasAuthenticated(user)\r\n        })\r\n        .catch(err => {\r\n          this.setOidcError(errorPayload('authenticateOidcPopup', err))\r\n        })\r\n    },\r\n    oidcSignInPopupCallback(this: OidcStoreMembers, url) {\r\n      return new Promise((resolve, reject) => {\r\n        oidcUserManager.signinPopupCallback(url)\r\n          .catch(err => {\r\n            this.setOidcError(errorPayload('oidcSignInPopupCallback', err))\r\n            this.setOidcAuthIsChecked()\r\n            reject(err)\r\n          })\r\n      })\r\n    },\r\n    oidcWasAuthenticated(this: OidcStoreMembers, user) {\r\n      if (user){\r\n        this.setOidcAuth(user)\r\n      }\r\n      if (!this.events_are_bound) {\r\n        oidcUserManager.events.addAccessTokenExpired(() => { this.unsetOidcAuth() })\r\n        if (oidcClientSettings.automaticSilentRenew) {\r\n          oidcUserManager.events.addAccessTokenExpiring(() => {\r\n            this.authenticateOidcSilent()\r\n              .catch((err) => {\r\n                dispatchCustomErrorEvent('automaticSilentRenewError',errorPayload('authenticateOidcSilent', err))\r\n              })\r\n          })\r\n        }\r\n        this.setOidcEventsAreBound()\r\n      }\r\n      this.setOidcAuthIsChecked()\r\n    },\r\n    storeUser(this: OidcStoreMembers, user) {\r\n      return oidcUserManager.storeUser(user)\r\n        .then(() => oidcUserManager.getUser())\r\n        .then(user => this.oidcWasAuthenticated(user))\r\n        .then(() => { })\r\n        .catch(err => {\r\n          this.setOidcError(errorPayload('OidcStoreUser', err))\r\n          this.setOidcAuthIsChecked()\r\n          throw err\r\n        })\r\n    },\r\n    getUser() {\r\n      return oidcUserManager.getUser().then(user => {\r\n        if (user)\r\n        {\r\n          this.setUser(user)\r\n        }\r\n        return user\r\n      })\r\n    },\r\n    addOidcEventListener(this: OidcStoreMembers, payload) {\r\n      addUserManagerEventListener(oidcUserManager, getPayloadItem(payload, 'eventName'), getPayloadItem(payload, 'eventListener'))\r\n    },\r\n    removeOidcEventListener(this: OidcStoreMembers, payload) {\r\n      removeUserManagerEventListener(oidcUserManager, getPayloadItem(payload, 'eventName'), getPayloadItem(payload, 'eventListener'))\r\n    },\r\n    signOutOidc(this: OidcStoreMembers, payload) {\r\n      return oidcUserManager.signoutRedirect(payload).then(() => {\r\n        this.unsetOidcAuth()\r\n      })\r\n    },\r\n    signOutOidcCallback() {\r\n      return oidcUserManager.signoutRedirectCallback()\r\n    },\r\n    signOutPopupOidc(this: OidcStoreMembers, payload) {\r\n      return oidcUserManager.signoutPopup(payload).then(() => {\r\n        this.unsetOidcAuth()\r\n      })\r\n    },\r\n    signOutPopupOidcCallback() {\r\n      return oidcUserManager.signoutPopupCallback()\r\n    },\r\n    signOutOidcSilent(this: OidcStoreMembers, payload) {\r\n      return new Promise((resolve, reject) => {\r\n        try {\r\n          oidcUserManager.getUser()\r\n            .then((user) => {\r\n              const args = objectAssign([\r\n                payload || {},\r\n                {\r\n                  id_token_hint: user ? user.id_token : null\r\n                }\r\n              ])\r\n              if (payload && getPayloadItem(payload, 'id_token_hint')) {\r\n                args.id_token_hint = getPayloadItem(payload, 'id_token_hint')\r\n              }\r\n              const oidcClient = new OidcClient(oidcUserManager.settings)\r\n              if (oidcClient) {\r\n                oidcClient.createSignoutRequest(args)\r\n                .then((signoutRequest) => {\r\n                  openUrlWithIframe(signoutRequest.url)\r\n                    .then(() => {\r\n                      this.removeUser()\r\n                      resolve()\r\n                    })\r\n                    .catch((err) => reject(err))\r\n                })\r\n                .catch((err: any) => reject(err))\r\n              }\r\n            })\r\n            .catch((err) => reject(err))\r\n        } catch (err) {\r\n          reject(err)\r\n        }\r\n      })\r\n    },\r\n    removeUser(this: OidcStoreMembers) {\r\n      return this.removeUser()\r\n    },\r\n    removeUser(this: OidcStoreMembers) {\r\n      return oidcUserManager.removeUser().then(() => {\r\n        this.unsetOidcAuth()\r\n      })\r\n    },\r\n    clearStaleState() {\r\n      return oidcUserManager.clearStaleState()\r\n    },\r\n    //mutation\r\n    setOidcAuth(this: OidcStoreMembers, user: User) {\r\n      this.id_token = user.id_token\r\n      this.access_token = user.access_token\r\n      this.refresh_token = user.refresh_token\r\n      this.user = user.profile\r\n      this.scopes = user.scopes\r\n      this.error = null\r\n    },\r\n    setUser(this: OidcStoreMembers, user: User) {\r\n      this.user = user ? user.profile : null\r\n    },\r\n    unsetOidcAuth(this: OidcStoreMembers) {\r\n      this.id_token = null\r\n      this.access_token = null\r\n      this.refresh_token = null\r\n      this.user = null\r\n    },\r\n    setOidcAuthIsChecked(this: OidcStoreMembers) {\r\n      this.is_checked = true\r\n    },\r\n    setOidcEventsAreBound(this: OidcStoreMembers) {\r\n      this.events_are_bound = true\r\n    },\r\n    setOidcError(this: OidcStoreMembers, payload) {\r\n      if (payload) {\r\n        this.error = getPayloadItem(payload, 'error')\r\n        dispatchCustomErrorEvent('oidcError', payload)\r\n      }\r\n    }\r\n}\r\n\r\n  const errorPayload = (context: string, error: any): PayloadType => {\r\n    return {\r\n      context,\r\n      error: error && error.message ? error.message : error\r\n    }\r\n  }\r\n\r\n  const dispatchCustomErrorEvent = (eventName: string, payload: {} | undefined) => {\r\n    // oidcError and automaticSilentRenewError are not UserManagement events, they are events implemeted in vuex-oidc,\r\n    if (typeof oidcEventListeners[eventName] === 'function') {\r\n      oidcEventListeners[eventName](payload)\r\n    }\r\n    if (storeSettings.dispatchEventsOnWindow) {\r\n      dispatchCustomBrowserEvent(eventName, payload)\r\n    }\r\n  }\r\n\r\n  return defineStore({ id: 'auth', state: () => PiniaOidcStoreState, getters: PiniaOidcStoreGetters, actions: PiniaOidcStoreAction })\r\n\r\n}\r\n\r\n\r\n"]}